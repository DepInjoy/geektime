# 亚线性算法
时间/空间/IO/通讯/能量等消耗是o(输入规模)
- 亚线性时间算法
  - 亚线性时间近似算法
  - 性质检测算法
- 亚线性空间算法
  - 数据流算法

## 空间亚线性算法
### 水库抽样算法
> 输入：一组数据，其大小未知
> 输出：这组数据的k个均匀抽样
> 要求：
> - 仅扫描数据一次
> - 空间复杂性为O(k)
> - 扫描到数据的前n个数字时(n>k)，保存当前已扫描数据的k个均匀抽样

算法实现
> 1. 申请一个长度为k的数组A保存抽样
> 2. 保存首先接收到的k个元素
> 3. 当接收到第i个新元素t时，以k/i的概率随机替换A中的元素(即生成[1,i]间随机数j, 若jk, 则以t替换A[j])

算法性质
- 性质1：该采样是均匀的
$$
\begin{array}{l}
\frac{k}{i} \times (1-\frac{1}{i+1}) \times (1 - \frac{1}{i+1}) \times  ...... \times (1-\frac{1}{n}) = \frac{k}{n} 
\end{array}
$$
- 性质2: 空间复杂性是$O(k)$

## 时间亚线性算法
> 平面图直径:
> 
> 输入：m个顶点的平面图，任意两点之间的距离存储在矩阵D中，即点i到点j的距离为$D_{ij}$
> - 输入大小是$n=m^2$
> - 最大的$D_{ij}$是图的直径
> - 点之间的距离对称($D_{ij} = D{ji}$)且满足三角不等式($D_{ik} + D_{kj} > D_{ij}$}
> 
> 输出：该图的直径和距离最大的$D_{ij}$ 
> 
> 要求：运行时间为$o(n)$

### 平面图的直径近似算法
- 无法在要求的时间内得到精确解，寻找近似算法
- 近似算法
  - 1. 任意选择$k \le m$
  - 2. 选择使得$D_{kl}$最大的$l$
  - 3. 输出$D_{kl}$和$(k, l)$

- 近似比, 近似比为2
$$
\begin{array}{l}
D_{ij} \le D_{ik} + D_{kj} \le D_{kl} + D_{kl} \le 2D_{kl}
\end{array}
$$
- 运行时间
$O(m)=O(\sqrt{n}) = 𝒐(𝒏)$

## 时间亚线性判定算法
> 全零数组判定
> 
> 输入：包含n个元素的0,1数组A
> 
> 输出：A中的元素是否全是0
> 
> 要求：运行时间为o(n)

### 全零数组近似判定算法
$\varepsilon$-远离:对于输入x，如果着从x到L中任意字符串的汉明距离至少为$\varepsilon|x|$，则x是$\varepsilon$-远离$L$的. 

全0数组判定问题的近似？ 是否$A=00…0$或者其包含1的个数大于$\varepsilon n$?

算法描述
> 1. 在A中随机独立抽取$s=\frac{2}{\varepsilon}$个位置上的元素
> 2. 检查抽样，若不包含1，则输出“是”，若包含1，则输出“否”

判定精确性分析
- 如果A是全0数组，始终输出”是” 
- 如果A中含有1，如果A是ε-远离的, $Pr[error]= Pr[抽样中没有1] \le (1-\varepsilon)^S \approx  e^{-\varepsilon s}=e^{-2}<\frac{1}{3}$ 

运行时间：$O(s)$

证据引理
> 如果一次测试以大于等于p的概率获得一个证据，那么$s=2/p$轮测试得到证据的概率大于等于2/3

判定问题定义：
> 对于判定问题L，其查询复杂性为q(n)和近似参数$\varepsilon$的性质测试算法是一个随机算法，其满足对于给定L的是一个实例x, 最多进行$q(|x|)$次查询，并且满足下述性质：
> - 如果x在L之中，该算法以最少2/3的概率返回“是”
> - 如果x 是ε远离L的, 该算法以最小2/3的概率返回“否”
