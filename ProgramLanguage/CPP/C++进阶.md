
# C++编程范式
！[](others/fanshijpeg)
C++是一个多范式的编程语言，核心思想是命令”,通常就是顺序执行的语句、子程序(函数),把任务分解成若干个步骤去执行,最终达成目标。它的五种编程范式分别是：
## 面向过程
体现在C++中,就是源自它的前身——C语言的那部分,比如变量声明、表达式、分支/循环/跳转语句等等。

## 面向对象
面向对象C++中一个基本的编程范式。它的核心思想是“抽象”和“封装”,倡导的是把任务分解成一些高内聚低耦合的对象,这些对象互相通信协作来完成任务。它强调对象之间的关系和接口,而不是完成任务的具体步骤。在 C++ 里,面向对象范式包括 class、public、private、virtual、this 等类相关的关键字,还有构造函数、析构函数、友元函数等概念。

## 泛型编程
自 STL(标准模板库)纳入到C++标准以后才逐渐流行起来的新范式,核心思想是“一切皆为类型”,或者说是“参数化类型“类型擦除”,使用模板而不是继承的方式来复用代码,所以运行效率更高,代码也更简洁。在C++里,泛型的基础是`template`关键字,然后是庞大而复杂的标准库,里面有各种泛型容器和算法,比如 vector、map、sort,等等。

## 模板元编程
与“泛型编程”很类似，它的核心思想是“类型运算”,操作的数据是编译时可见的“类型”,所以也比较特殊,代码只能由编译器执行,而不能被运行时的 CPU 执行。模板元编程是一种高级、复杂的技术,C++语言对它的支持也比较少,更多的是以库的方式来使用,比如 type_traits、enable_if 等。

## 函数式编程
“函数式”并不是 C++ 里写成函数的子程序,而是数学意义上、无副作用的函数,核心思想是“一切皆可调用”,通过一系列连续或者嵌套的函数调用实现对数据的处理。函数式早在 C++98 时就有少量的尝试(bind1st/bind2nd 等函数对象),但直到 C++11引入了 Lambda 表达式,它才真正获得了可与其他范式并驾齐驱的地位。

# 新特性
## C++20新特性
下载`gcc-10`，编译时添加`-std=C++20`编译选项即可。
```shell
sudo apt install g++-10
```
### Ranges
ranges通过增加了一种叫做view（视图）的概念，实现了Lazy Evaluation(惰性求值)，并且可以将各种view的关系转化用符号“|”串联起来，提高了代码的表现力和可读性，提供了一种使用STL的新姿势。该特性涉及几个新概念：
- range：可以用迭代器遍历的一切事物，STL的大部分容器都是range。
- view：拷贝代价是很低的，需要拷贝的时候直接传值即可，不必传引用。view本身也符合range的特征，可以用迭代器遍历。view对于数据的遍历都是lazy evaluation(惰性求值)，比如说`views::iota(1)`，表示一个自然数序列`(1,2,3,4....）`一直到无穷大，这个序列并不是定义的时候就全部产生出来的，而是需要遍历的时候才逐个往后增加的
- range adapter:range适配器，就是将一个range转换为一个view，也可以将一个view转换为另一个view。

假设输入一串数字字从中找到偶数并对其求平方，参考[ranges官方介绍](https://en.cppreference.com/w/cpp/ranges)，实现参加`rangs_eg_event_square`函数。


